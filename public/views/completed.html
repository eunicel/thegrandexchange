<div ng-controller="CompletedCtrl">
  <h1>Your Completed Transactions</h1>
  <hr>
    <div ng-repeat="transaction in transactions">
      <div ng-show="transaction.isBuyer"><h3> Bought {{transaction.item.name}} for ${{transaction.price}} from {{transaction.sellOffer.postedBy.firstName}} {{transaction.sellOffer.postedBy.lastName}}<h3></div>
      <div ng-show="!transaction.isBuyer"><h3> Sold {{transaction.item.name}} for ${{transaction.price}} to {{transaction.buyOffer.postedBy.firstName}} {{transaction.buyOffer.postedBy.lastName}}<h3></div>
      <form ng-submit="review(transaction)">
        <div class="form-group row">
          <div class="col-sm-12">
            Was the transaction completed in person?
            <input type="checkbox" ng-true-value="true" ng-false-value="false" ng-model="transaction.completed">
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-9">
            <textarea ng-model="transaction.review_content" class="review form-control" rows="3" placeholder="Enter your review here"></textarea>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <input name="submit_review" class="btn btn-default" type="submit"></input>
          </div>
        </div>
      </form>
    </div>
</div>